<ion-view view-title="citas" class="directory-view citas" hide-nav-bar="true" has-header="false">

	<ion-content has-subheader="false">

		<div class="block-directory-a">

			<div class="bar bar-header directoy-bar-header">

				<a href="#/home-user" class="button button-icon ion-android-arrow-dropleft-circle">

				</a>

				<h1 class="title">Citas</h1>

				<i class="ion-android-arrow-dropdown title"></i>

				<a href="#" class="button button-icon icon-right ion-android-cancel" ng-click="cerrarSesion()">

				</a>

			</div>

			<div class="row shadow-bottom">

				<div class="col">

					<br><br><br>

					 <strong> <p class="sub-title">Citas Solicitadas:</p> </strong>

				</div>

			</div>

			<div class="row shadow-bottom list-citas responsive-sm" ng-repeat="item in listCitas">

				<div class="col">

					<br>
					<br>

					<p>

						<!-- <span class="border-right" ng-bind="'Clave: '+ item.status_clave == 1 ? 'Por asignar' : item.clave+'&nbsp;&nbsp;'"></span> -->
						<span class="border-right" ng-bind="'Clave: '+ (item.status_clave == 1 ? 'Por asignar' : item.clave) +'&nbsp;&nbsp;'"></span>

						<span class="border-right" ng-bind="fechaSeteada(item.fecha)+'&nbsp;&nbsp;'"></span>

						&nbsp;&nbsp;<span ng-click="openModal(item)"><i class="icon ion-android-search"></i></span>

					</p>

				</div>

			</div>

			<div class="row block-new-cita">

				<div class="col">

				<br><br>

					<span class="step size-64" ng-click="openViewContraCita()">

				      	<i class="icon ion-ios-plus-outline sub-title"></i>

				    </span>

				    <p>Solicitar una nueva cita</p>

				</div>

			</div>

		</div>

		<div class="row block-directory-c">

		</div>

		<script id="my-modal.html" type="text/ng-template">

			<ion-modal-view>

				<ion-header-bar class="bar bar-header bar-positive">

					<h1 class="title">Detalles Consulta</h1>

					<button class="button button-clear button-primary" ng-click="modal.hide()">Cerrar</button>

				</ion-header-bar>

				<ion-content class="padding">

					<p>
						Nombre: <span ng-bind="nameCuenta"></span>
					</p>

					<p>
						Fecha Cita: <span ng-bind="fechaModal"></span>
					</p>

					<p>
						Clave Generada: <span ng-bind="dataModal.clave"></span>
					</p>

					<p>
						Cantidad de Procedimientos Medicos: {{ dataModal.detallesClave.length }}
					</p>

					<p ng-repeat="detalle in dataModal.detallesClave">

						Especialidad: {{ detalle.especialidad.descripcion }}.<br>
						Tipo de Procedimiento: {{ detalle.proMedico.tipo_examen }}.<br>
						Tipo de Servicio: {{ detalle.tipoServ.descripcion }}.<br>
						Proveedor: {{ detalle.proveedor.nombre }}.<br>

					</p>

				</ion-content>

			</ion-modal-view>

		</script>

	</ion-content>

	<div class="bar bar-footer"></div>

</ion-view>
